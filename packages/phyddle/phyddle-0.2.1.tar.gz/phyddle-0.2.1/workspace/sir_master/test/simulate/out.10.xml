<beast version='2.0' namespace='master:master.model:master.steppers:master.conditions:master.postprocessors:master.outputs'>


<run spec='InheritanceEnsemble'
    verbosity='1'
    nTraj='1'
    nSamples='1000'
    samplePopulationSizes='true'
    simulationTime='45.33977764296793'
    maxConditionRejects='1'>

<model spec='Model'>

<populationType spec='PopulationType' typeName='Susceptible' id='Susceptible' dim='1 1 1'/>
<populationType spec='PopulationType' typeName='Contagious' id='Contagious' dim='1 1 1'/>
<populationType spec='PopulationType' typeName='Recovered' id='Recovered' dim='1 1 1'/>
<populationType spec='PopulationType' typeName='Sampled' id='Sampled' dim='1 1'/>
<populationType spec='PopulationType' typeName='SampleScale' id='SampleScale' dim='1 1'/>
<populationType spec='PopulationType' typeName='RecoverScale' id='RecoverScale' dim='1 1'/>
<populationType spec='PopulationType' typeName='InfectScale' id='InfectScale' dim='1 1'/>
<populationType spec='PopulationType' typeName='R2SScale' id='R2SScale' dim='1 1'/>
<populationType spec='PopulationType' typeName='SampleCount' id='SampleCount' dim='1'/>


<reactionGroup spec='ReactionGroup' reactionGroupName='Infect_I_to_R'>
	<reaction spec='Reaction' reactionName='r_I_R' rate='0.001'>
		Contagious[h,j,u] + RecoverScale[j,u] -> Recovered[h,j,u] + RecoverScale[j,u]
	</reaction>
</reactionGroup>

<reactionGroup spec='ReactionGroup' reactionGroupName='Wane_R_to_S'>
	<reaction spec='Reaction' reactionName='r_R_S' rate='0.001'>
		Recovered[h,j,u] + R2SScale[h,u] -> Susceptible[h,j,u] + R2SScale[h,u]
	</reaction>
</reactionGroup>

<reactionGroup spec='ReactionGroup' reactionGroupName='Sample_I_to_A'>
	<reaction spec='Reaction' reactionName='r_I_A' rate='0.001'>
		Contagious[h,j,u]:1 + SampleScale[j,u]:2 -> Sampled[j,u]:1 + Recovered[h,j,u]:2 + SampleScale[j,u]:2
	</reaction>
</reactionGroup>

<reactionGroup spec='ReactionGroup' reactionGroupName='TipSample'>
	<reaction spec='Reaction' reactionName='r_tip_sample' rate='1000000000000000.0'>
		Sampled[j,u]:1 -> SampleCount[j]
	</reaction>
</reactionGroup>

<reactionGroup spec='ReactionGroup' reactionGroupName='Infect_S_to_I'>
	<reaction spec='Reaction' reactionName='r_S_I' rate='0.001'>
		Susceptible[h,j,u] + Contagious[i,j,u]:1 + InfectScale[j,u]:2 -> Contagious[h,j,u]:1 + Contagious[i,j,u]:1 + InfectScale[j,u]:2
	</reaction>
</reactionGroup>



</model>


<initialState spec='InitState'>
	<!-- START STATE -->
	<lineageSeedMultiple spec='MultipleIndividuals' copies='1'>
		<population spec ='Population' type='@Contagious' location='0 0 0'/>
	</lineageSeedMultiple>

	<!-- COMPARTMENT SIZES -->
	<populationSize spec='PopulationSize' size='49675'>
		<population spec='Population' type='@Susceptible' location='0 0'/>
	</populationSize>

	<!-- RATE SCALERS -->
	<populationSize spec='PopulationSize' size='620.0522522120759'>
		<population spec='Population' type='@SampleScale' location='0 0'/>
	</populationSize>
	<populationSize spec='PopulationSize' size='0.1282898785961501'>
		<population spec='Population' type='@InfectScale' location='0 0'/>
	</populationSize>
	<populationSize spec='PopulationSize' size='180.05710111179113'>
		<population spec='Population' type='@RecoverScale' location='0 0'/>
	</populationSize>
	<populationSize spec='PopulationSize' size='0.0'>
		<population spec='Population' type='@R2SScale' location='0 0'/>
	</populationSize>
</initialState>


<lineageEndCondition spec='LineageEndCondition' nLineages='500000' alsoGreaterThan='true' isRejection='false'/>


<inheritancePostProcessor spec='LineageFilter' populationName='Sampled' reverseTime='false' discard='false' leavesOnly='false' noClean='false'/>
<inheritancePostProcessor spec='LineageSampler' nSamples='212'/>



<output spec='NewickOutput' collapseSingleChildNodes='true' fileName='./simulate/out.10.tre'/>
<output spec='NexusOutput' fileName='./simulate/out.10.nex.tre'/>
<output spec='JsonOutput' fileName='./simulate/out.10.json' />
            

</run>
</beast>
