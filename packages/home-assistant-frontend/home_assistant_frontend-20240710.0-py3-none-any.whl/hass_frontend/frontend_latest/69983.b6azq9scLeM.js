export const id=69983;export const ids=[69983];export const modules={68286:(e,t,i)=>{function a(e){return void 0===e||Array.isArray(e)?e:[e]}i.d(t,{e:()=>a})},16895:(e,t,i)=>{i.d(t,{M:()=>n,l:()=>a});i(21950),i(15445),i(24483),i(13478),i(46355),i(14612),i(53691),i(48455),i(8339);const a=new Set(["primary","accent","disabled","red","pink","purple","deep-purple","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","deep-orange","brown","light-grey","grey","dark-grey","blue-grey","black","white"]);function n(e){return a.has(e)?`var(--${e}-color)`:e}},59216:(e,t,i)=>{i.d(t,{A:()=>n});const a=e=>e<10?`0${e}`:e;function n(e){const t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return t>0?`${t}:${a(i)}:${a(n)}`:i>0?`${i}:${a(n)}`:n>0?""+n:null}},24930:(e,t,i)=>{i.d(t,{I:()=>s});i(71936),i(59092),i(66274),i(84531),i(32877);class a{constructor(e=window.localStorage){this.storage=void 0,this._storage={},this._listeners={},this.storage=e,e===window.localStorage&&window.addEventListener("storage",(e=>{e.key&&this.hasKey(e.key)&&(this._storage[e.key]=e.newValue?JSON.parse(e.newValue):e.newValue,this._listeners[e.key]&&this._listeners[e.key].forEach((t=>t(e.oldValue?JSON.parse(e.oldValue):e.oldValue,this._storage[e.key]))))}))}addFromStorage(e){if(!this._storage[e]){const t=this.storage.getItem(e);t&&(this._storage[e]=JSON.parse(t))}}subscribeChanges(e,t){return this._listeners[e]?this._listeners[e].push(t):this._listeners[e]=[t],()=>{this.unsubscribeChanges(e,t)}}unsubscribeChanges(e,t){if(!(e in this._listeners))return;const i=this._listeners[e].indexOf(t);-1!==i&&this._listeners[e].splice(i,1)}hasKey(e){return e in this._storage}getValue(e){return this._storage[e]}setValue(e,t){const i=this._storage[e];this._storage[e]=t;try{void 0===t?this.storage.removeItem(e):this.storage.setItem(e,JSON.stringify(t))}catch(e){}finally{this._listeners[e]&&this._listeners[e].forEach((e=>e(i,t)))}}}const n={},s=e=>t=>{const i=e.storage||"localStorage";let s;i&&i in n?s=n[i]:(s=new a(window[i]),n[i]=s);const o=String(t.key),r=e.key||String(t.key),l=t.initializer?t.initializer():void 0;s.addFromStorage(r);const d=!1!==e.subscribe?e=>s.subscribeChanges(r,((i,a)=>{e.requestUpdate(t.key,i)})):void 0,c=()=>s.hasKey(r)?e.deserializer?e.deserializer(s.getValue(r)):s.getValue(r):l;return{kind:"method",placement:"prototype",key:t.key,descriptor:{set(i){((i,a)=>{let n;e.state&&(n=c()),s.setValue(r,e.serializer?e.serializer(a):a),e.state&&i.requestUpdate(t.key,n)})(this,i)},get:()=>c(),enumerable:!0,configurable:!0},finisher(i){if(e.state&&e.subscribe){const e=i.prototype.connectedCallback,t=i.prototype.disconnectedCallback;i.prototype.connectedCallback=function(){e.call(this),this[`__unbsubLocalStorage${o}`]=null==d?void 0:d(this)},i.prototype.disconnectedCallback=function(){var e;t.call(this),null===(e=this[`__unbsubLocalStorage${o}`])||void 0===e||e.call(this),this[`__unbsubLocalStorage${o}`]=void 0}}e.state&&i.createProperty(t.key,{noAccessor:!0,...e.stateOptions})}}}},94511:(e,t,i)=>{i.d(t,{n:()=>r,v:()=>s});i(21950),i(71936),i(15445),i(24483),i(13478),i(46355),i(14612),i(53691),i(48455),i(8339);var a=i(66596),n=i(83378);const s={alarm_control_panel:["armed_away","armed_custom_bypass","armed_home","armed_night","armed_vacation","arming","disarmed","disarming","pending","triggered"],automation:["on","off"],binary_sensor:["on","off"],button:[],calendar:["on","off"],camera:["idle","recording","streaming"],cover:["closed","closing","open","opening"],device_tracker:["home","not_home"],fan:["on","off"],humidifier:["on","off"],input_boolean:["on","off"],input_button:[],lawn_mower:["error","paused","mowing","docked"],light:["on","off"],lock:["jammed","locked","locking","unlocked","unlocking","opening","open"],media_player:["off","on","idle","playing","paused","standby","buffering"],person:["home","not_home"],plant:["ok","problem"],remote:["on","off"],scene:[],schedule:["on","off"],script:["on","off"],siren:["on","off"],sun:["above_horizon","below_horizon"],switch:["on","off"],timer:["active","idle","paused"],update:["on","off"],vacuum:["cleaning","docked","error","idle","paused","returning"],valve:["closed","closing","open","opening"],weather:["clear-night","cloudy","exceptional","fog","hail","lightning-rainy","lightning","partlycloudy","pouring","rainy","snowy-rainy","snowy","sunny","windy-variant","windy"]},o={alarm_control_panel:{code_format:["number","text"]},binary_sensor:{device_class:["battery","battery_charging","co","cold","connectivity","door","garage_door","gas","heat","light","lock","moisture","motion","moving","occupancy","opening","plug","power","presence","problem","running","safety","smoke","sound","tamper","update","vibration","window"]},button:{device_class:["restart","update"]},camera:{frontend_stream_type:["hls","web_rtc"]},climate:{hvac_action:["off","idle","preheating","defrosting","heating","cooling","drying","fan"]},cover:{device_class:["awning","blind","curtain","damper","door","garage","gate","shade","shutter","window"]},device_tracker:{source_type:["bluetooth","bluetooth_le","gps","router"]},fan:{direction:["forward","reverse"]},humidifier:{device_class:["humidifier","dehumidifier"],action:["off","idle","humidifying","drying"]},media_player:{device_class:["tv","speaker","receiver"],media_content_type:["album","app","artist","channel","channels","composer","contibuting_artist","episode","game","genre","image","movie","music","playlist","podcast","season","track","tvshow","url","video"],repeat:["off","one","all"]},number:{device_class:["temperature"]},sensor:{device_class:["apparent_power","aqi","battery","carbon_dioxide","carbon_monoxide","current","date","duration","energy","frequency","gas","humidity","illuminance","monetary","nitrogen_dioxide","nitrogen_monoxide","nitrous_oxide","ozone","ph","pm1","pm10","pm25","power_factor","power","pressure","reactive_power","signal_strength","sulphur_dioxide","temperature","timestamp","volatile_organic_compounds","volatile_organic_compounds_parts","voltage","volume_flow_rate"],state_class:["measurement","total","total_increasing"]},switch:{device_class:["outlet","switch"]},update:{device_class:["firmware"]},water_heater:{away_mode:["on","off"]}},r=(e,t=void 0)=>{const i=(0,a.t)(e),r=[];switch(!t&&i in s?r.push(...s[i]):t&&i in o&&t in o[i]&&r.push(...o[i][t]),i){case"climate":t?"fan_mode"===t?r.push(...e.attributes.fan_modes):"preset_mode"===t?r.push(...e.attributes.preset_modes):"swing_mode"===t&&r.push(...e.attributes.swing_modes):r.push(...e.attributes.hvac_modes);break;case"device_tracker":case"person":t||r.push("home","not_home");break;case"event":"event_type"===t&&r.push(...e.attributes.event_types);break;case"fan":"preset_mode"===t&&r.push(...e.attributes.preset_modes);break;case"humidifier":"mode"===t&&r.push(...e.attributes.available_modes);break;case"input_select":case"select":t||r.push(...e.attributes.options);break;case"light":"effect"===t&&e.attributes.effect_list?r.push(...e.attributes.effect_list):"color_mode"===t&&e.attributes.supported_color_modes&&r.push(...e.attributes.supported_color_modes);break;case"media_player":"sound_mode"===t?r.push(...e.attributes.sound_mode_list):"source"===t&&r.push(...e.attributes.source_list);break;case"remote":"current_activity"===t&&r.push(...e.attributes.activity_list);break;case"sensor":t||"enum"!==e.attributes.device_class||r.push(...e.attributes.options);break;case"vacuum":"fan_speed"===t&&r.push(...e.attributes.fan_speed_list);break;case"water_heater":t&&"operation_mode"!==t||r.push(...e.attributes.operation_list)}return t||r.push(...n.s7),[...new Set(r)]}},55970:(e,t,i)=>{i.d(t,{n:()=>n});i(26777);const a=/^(\w+)\.(\w+)$/,n=e=>a.test(e)},56601:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{Yf:()=>c,ZQ:()=>u,ZV:()=>h,ty:()=>d,x:()=>l});var n=i(92840),s=(i(53501),i(25786)),o=i(89340),r=e([n]);n=(r.then?(await r)():r)[0];const l=e=>d(e.attributes),d=(e,t)=>!!e.unit_of_measurement||!!e.state_class||(t||[]).includes(e.device_class||""),c=e=>{switch(e.number_format){case s.jG.comma_decimal:return["en-US","en"];case s.jG.decimal_comma:return["de","es","it"];case s.jG.space_comma:return["fr","sv","cs"];case s.jG.system:return;default:return e.language}},h=(e,t,i)=>{const a=t?c(t):void 0;return Number.isNaN=Number.isNaN||function e(t){return"number"==typeof t&&e(t)},(null==t?void 0:t.number_format)===s.jG.none||Number.isNaN(Number(e))?Number.isNaN(Number(e))||""===e||(null==t?void 0:t.number_format)!==s.jG.none?"string"==typeof e?e:`${(0,o.L)(e,null==i?void 0:i.maximumFractionDigits).toString()}${"currency"===(null==i?void 0:i.style)?` ${i.currency}`:""}`:new Intl.NumberFormat("en-US",m(e,{...i,useGrouping:!1})).format(Number(e)):new Intl.NumberFormat(a,m(e,i)).format(Number(e))},u=(e,t)=>{var i;const a=null==t?void 0:t.display_precision;return null!=a?{maximumFractionDigits:a,minimumFractionDigits:a}:Number.isInteger(Number(null==e||null===(i=e.attributes)||void 0===i?void 0:i.step))&&Number.isInteger(Number(null==e?void 0:e.state))?{maximumFractionDigits:0}:void 0},m=(e,t)=>{const i={maximumFractionDigits:2,...t};if("string"!=typeof e)return i;if(!t||void 0===t.minimumFractionDigits&&void 0===t.maximumFractionDigits){const t=e.indexOf(".")>-1?e.split(".")[1].length:0;i.minimumFractionDigits=t,i.maximumFractionDigits=t}return i};a()}catch(e){a(e)}}))},89340:(e,t,i)=>{i.d(t,{L:()=>a});const a=(e,t=2)=>Math.round(e*10**t)/10**t},13091:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(62659),n=i(76504),s=i(80792),o=(i(21950),i(8339),i(40924)),r=i(18791),l=i(69760),d=i(1751),c=i(59216),h=i(66596),u=i(82931),m=i(94511),g=i(56601),b=i(83378),p=i(10829),v=(i(51227),i(40806),e([g]));g=(v.then?(await v)():v)[0];const y="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z",f=["alarm_control_panel","device_tracker","person"],_=(e,t)=>(0,d.g)(f)(e)&&(0,d.g)(m.v[e])(t)?`${e}.${t}`:null;(0,a.A)([(0,r.EM)("ha-state-label-badge")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"state",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"name",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"image",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"showName",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_timerTimeRemaining",value:void 0},{kind:"field",key:"_connected",value:void 0},{kind:"field",key:"_updateRemaining",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,n.A)((0,s.A)(i.prototype),"connectedCallback",this).call(this),this._connected=!0,this.startInterval(this.state)}},{kind:"method",key:"disconnectedCallback",value:function(){(0,n.A)((0,s.A)(i.prototype),"disconnectedCallback",this).call(this),this._connected=!1,this.clearInterval()}},{kind:"method",key:"render",value:function(){var e,t;const i=this.state;if(!i)return o.qy` <ha-label-badge class="warning" label="${this.hass.localize("state_badge.default.error")}" description="${this.hass.localize("state_badge.default.entity_not_found")}"> <ha-svg-icon .path="${y}"></ha-svg-icon> </ha-label-badge> `;const a=(0,h.t)(i),n=null===(e=this.hass)||void 0===e?void 0:e.entities[i.entity_id],s=this.icon||this._computeShowIcon(a,i,n),r=this.icon?"":this.image?this.image:i.attributes.entity_picture_local||i.attributes.entity_picture,d=r||s?void 0:this._computeValue(a,i,n);return o.qy` <ha-label-badge class="${(0,l.H)({[a]:!0,"has-unit_of_measurement":"unit_of_measurement"in i.attributes})}" .image="${r}" .label="${this._computeLabel(a,i,this._timerTimeRemaining)}" .description="${this.showName?null!==(t=this.name)&&void 0!==t?t:(0,u.u)(i):void 0}"> ${!r&&s?o.qy`<ha-state-icon .icon="${this.icon}" .stateObj="${i}" .hass="${this.hass}"></ha-state-icon>`:""} ${!d||r||s?"":o.qy`<span class="${d&&d.length>4?"big":""}">${d}</span>`} </ha-label-badge> `}},{kind:"method",key:"updated",value:function(e){(0,n.A)((0,s.A)(i.prototype),"updated",this).call(this,e),this._connected&&e.has("state")&&this.startInterval(this.state)}},{kind:"method",key:"_computeValue",value:function(e,t,i){switch(e){case"alarm_control_panel":case"binary_sensor":case"device_tracker":case"person":case"scene":case"sun":case"timer":return null;case"sensor":if("moon"===(null==i?void 0:i.platform))return null;default:return t.state===b.HV||t.state===b.Hh?"—":(0,g.x)(t)?(0,g.ZV)(t.state,this.hass.locale,(0,g.ZQ)(t,i)):this.hass.formatEntityState(t)}}},{kind:"method",key:"_computeShowIcon",value:function(e,t,i){if(t.state===b.Hh)return!1;switch(e){case"alarm_control_panel":case"binary_sensor":case"device_tracker":case"person":case"scene":case"sun":case"timer":return!0;case"sensor":return"moon"===(null==i?void 0:i.platform);default:return!1}}},{kind:"method",key:"_computeLabel",value:function(e,t,i=0){if((0,b.g0)(t.state))return this.hass.localize(`state_badge.default.${t.state}`);const a=_(e,t.state);return a?this.hass.localize(`state_badge.${a}`):"person"===e||"device_tracker"===e?t.state:"timer"===e?(0,c.A)(i):t.attributes.unit_of_measurement||null}},{kind:"method",key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this._updateRemaining&&(clearInterval(this._updateRemaining),this._updateRemaining=void 0)}))},{kind:"method",key:"startInterval",value:function(e){this.clearInterval(),e&&"timer"===(0,h.t)(e)&&(this.calculateTimerRemaining(e),"active"===e.state&&(this._updateRemaining=window.setInterval((()=>this.calculateTimerRemaining(this.state)),1e3)))}},{kind:"method",key:"calculateTimerRemaining",value:function(e){this._timerTimeRemaining=(0,p.ls)(e)}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host{cursor:pointer}.big{font-size:70%}ha-label-badge{--ha-label-badge-color:var(--label-badge-red)}ha-label-badge.has-unit_of_measurement{--ha-label-badge-label-text-transform:none}ha-label-badge.binary_sensor{--ha-label-badge-color:var(--label-badge-blue)}.red{--ha-label-badge-color:var(--label-badge-red)}.blue{--ha-label-badge-color:var(--label-badge-blue)}.green{--ha-label-badge-color:var(--label-badge-green)}.yellow{--ha-label-badge-color:var(--label-badge-yellow)}.grey{--ha-label-badge-color:var(--label-badge-grey)}.warning{--ha-label-badge-color:var(--label-badge-yellow)}`}}]}}),o.WF);t()}catch(e){t(e)}}))},59151:(e,t,i)=>{var a=i(62659),n=i(76504),s=i(80792),o=(i(21950),i(66274),i(84531),i(8339),i(27350),i(40924)),r=i(18791),l=i(51150),d=i(25465);(0,a.A)([(0,r.EM)("ha-button-menu")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",key:d.Xr,value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"corner",value:()=>"BOTTOM_START"},{kind:"field",decorators:[(0,r.MZ)()],key:"menuCorner",value:()=>"START"},{kind:"field",decorators:[(0,r.MZ)({type:Number})],key:"x",value:()=>null},{kind:"field",decorators:[(0,r.MZ)({type:Number})],key:"y",value:()=>null},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"multi",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"activatable",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"fixed",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean,attribute:"no-anchor"})],key:"noAnchor",value:()=>!1},{kind:"field",decorators:[(0,r.P)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.items}},{kind:"get",key:"selected",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.selected}},{kind:"method",key:"focus",value:function(){var e,t;null!==(e=this._menu)&&void 0!==e&&e.open?this._menu.focusItemAtIndex(0):null===(t=this._triggerButton)||void 0===t||t.focus()}},{kind:"method",key:"render",value:function(){return o.qy` <div @click="${this._handleClick}"> <slot name="trigger" @slotchange="${this._setTriggerAria}"></slot> </div> <mwc-menu .corner="${this.corner}" .menuCorner="${this.menuCorner}" .fixed="${this.fixed}" .multi="${this.multi}" .activatable="${this.activatable}" .y="${this.y}" .x="${this.x}"> <slot></slot> </mwc-menu> `}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.A)((0,s.A)(i.prototype),"firstUpdated",this).call(this,e),"rtl"===l.G.document.dir&&this.updateComplete.then((()=>{this.querySelectorAll("mwc-list-item").forEach((e=>{const t=document.createElement("style");t.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",e.shadowRoot.appendChild(t)}))}))}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this.noAnchor?null:this,this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`}}]}}),o.WF)},51227:(e,t,i)=>{var a=i(62659),n=i(76504),s=i(80792),o=(i(98809),i(21950),i(8339),i(40924)),r=i(18791),l=i(69760);(0,a.A)([(0,r.EM)("ha-label-badge")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"description",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"image",value:void 0},{kind:"method",key:"render",value:function(){return o.qy` <div class="badge-container"> <div class="label-badge" id="badge"> <div class="value"> <slot></slot> </div> ${this.label?o.qy` <div class="${(0,l.H)({label:!0,big:this.label.length>5})}"> <span>${this.label}</span> </div> `:""} </div> ${this.description?o.qy`<div class="title">${this.description}</div>`:""} </div> `}},{kind:"get",static:!0,key:"styles",value:function(){return[o.AH`.badge-container{display:inline-block;text-align:center;vertical-align:top;padding:var(--ha-label-badge-padding,0 0 0 0)}.label-badge{position:relative;display:block;margin:0 auto;width:var(--ha-label-badge-size,2.5em);text-align:center;height:var(--ha-label-badge-size,2.5em);line-height:var(--ha-label-badge-size, 2.5em);font-size:var(--ha-label-badge-font-size, 1.5em);border-radius:var(--ha-label-badge-border-radius,50%);border:.1em solid var(--ha-label-badge-color,var(--primary-color));color:var(--label-badge-text-color,#4c4c4c);white-space:nowrap;background-color:var(--label-badge-background-color,#fff);background-size:cover;transition:border .3s ease-in-out}.label-badge .label.big span{font-size:90%;padding:10% 12% 7% 12%}.label-badge .value{font-size:90%;overflow:hidden;text-overflow:ellipsis}.label-badge .label{position:absolute;bottom:-1em;left:-.2em;right:-.2em;line-height:1em;font-size:.5em}.label-badge .label span{box-sizing:border-box;max-width:100%;display:inline-block;background-color:var(--ha-label-badge-color,var(--primary-color));color:var(--ha-label-badge-label-color,#fff);border-radius:1em;padding:9% 16% 8% 16%;font-weight:500;overflow:hidden;text-transform:uppercase;text-overflow:ellipsis;transition:background-color .3s ease-in-out;text-transform:var(--ha-label-badge-label-text-transform,uppercase)}.badge-container .title{margin-top:1em;font-size:var(--ha-label-badge-title-font-size, .9em);width:var(--ha-label-badge-title-width,5em);font-weight:var(--ha-label-badge-title-font-weight,400);overflow:hidden;text-overflow:ellipsis;line-height:normal}`]}},{kind:"method",key:"updated",value:function(e){(0,n.A)((0,s.A)(i.prototype),"updated",this).call(this,e),e.has("image")&&(this.shadowRoot.getElementById("badge").style.backgroundImage=this.image?`url(${this.image})`:"")}}]}}),o.WF)},79861:(e,t,i)=>{function a(e){return"strategy"in e}i.d(t,{Dz:()=>n,Wu:()=>a,io:()=>o,ql:()=>s});const n=(e,t,i)=>e.sendMessagePromise({type:"lovelace/config",url_path:t,force:i}),s=(e,t,i)=>e.callWS({type:"lovelace/config/save",url_path:t,config:i}),o=(e,t)=>e.callWS({type:"lovelace/config/delete",url_path:t})},32990:(e,t,i)=>{i.d(t,{IP:()=>a,Iu:()=>d,J_:()=>s,bH:()=>o,c8:()=>l,wi:()=>r});i(21950),i(66274),i(85767),i(8339);const a="custom:",n=window;"customCards"in n||(n.customCards=[]),"customCardFeatures"in n||(n.customCardFeatures=[]),"customTileFeatures"in n||(n.customTileFeatures=[]);const s=n.customCards,o=()=>[...n.customCardFeatures,...n.customTileFeatures],r=e=>s.find((t=>t.type===e)),l=e=>e.startsWith(a),d=e=>e.slice(a.length)},10829:(e,t,i)=>{i.d(t,{PF:()=>d,CR:()=>s,pZ:()=>r,kL:()=>n,ls:()=>l,r9:()=>o});i(98168);var a=i(59216);const n=e=>e.callWS({type:"timer/list"}),s=(e,t)=>e.callWS({type:"timer/create",...t}),o=(e,t,i)=>e.callWS({type:"timer/update",timer_id:t,...i}),r=(e,t)=>e.callWS({type:"timer/delete",timer_id:t}),l=e=>{if(!e.attributes.remaining)return;let t=function(e){const t=e.split(":").map(Number);return 3600*t[0]+60*t[1]+t[2]}(e.attributes.remaining);if("active"===e.state){const i=(new Date).getTime(),a=new Date(e.last_changed).getTime();t=Math.max(t-(i-a)/1e3,0)}return t},d=(e,t,i)=>{if(!t)return null;if("idle"===t.state||0===i)return e.formatEntityState(t);let n=(0,a.A)(i||0);return"paused"===t.state&&(n=`${n} (${e.formatEntityState(t)})`),n}},68344:(e,t,i)=>{i.d(t,{H:()=>n});i(21950),i(55888),i(8339);var a=i(77664);const n=(e,t)=>new Promise((n=>{const s=t.cancel,o=t.submit;(0,a.r)(e,"show-dialog",{dialogTag:"dialog-enter-code",dialogImport:()=>Promise.all([i.e(27311),i.e(22658),i.e(57064)]).then(i.bind(i,57064)),dialogParams:{...t,cancel:()=>{n(null),s&&s()},submit:e=>{n(e),o&&o(e)}}})}))},92082:(e,t,i)=>{i.d(t,{G9:()=>r,KS:()=>o});var a=i(62659),n=(i(21950),i(8339),i(40924)),s=i(18791);i(51227),i(1683);const o=e=>{const t=document.createElement("hui-error-badge");return t.setConfig(e),t},r=e=>({type:"error",error:e});(0,a.A)([(0,s.EM)("hui-error-badge")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){this._config=e}},{kind:"method",key:"render",value:function(){return this._config?n.qy` <ha-label-badge label="Error" description="${this._config.error}"> <ha-svg-icon .path="${"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z"}"></ha-svg-icon> </ha-label-badge> `:n.s6}},{kind:"get",static:!0,key:"styles",value:function(){return n.AH`:host{--ha-label-badge-color:var(--label-badge-red, #fce588)}`}}]}}),n.WF)},70274:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(62659),n=(i(21950),i(8339),i(40924)),s=i(18791),o=i(79278),r=i(13091),l=i(53012),d=i(49556),c=i(79947),h=e([r]);r=(h.then?(await h)():h)[0];(0,a.A)([(0,s.EM)("hui-state-label-badge")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){this._config=e}},{kind:"method",key:"render",value:function(){var e;if(!this._config||!this.hass)return n.s6;const t=this.hass.states[this._config.entity];return n.qy` <ha-state-label-badge .hass="${this.hass}" .state="${t}" .name="${this._config.name}" .icon="${this._config.icon}" .image="${this._config.image}" .showName="${null===(e=this._config.show_name)||void 0===e||e}" @action="${this._handleAction}" .actionHandler="${(0,l.T)({hasHold:(0,c.h)(this._config.hold_action),hasDoubleClick:(0,c.h)(this._config.double_tap_action)})}" tabindex="${(0,o.J)((0,c.h)(this._config.tap_action)||this._config.entity?"0":void 0)}"></ha-state-label-badge> `}},{kind:"method",key:"_handleAction",value:function(e){(0,d.$)(this,this.hass,this._config,e.detail.action)}},{kind:"get",static:!0,key:"styles",value:function(){return n.AH`ha-state-label-badge:focus{outline:0;background:var(--divider-color);border-radius:4px}ha-state-label-badge{display:inline-block;padding:4px 2px 4px 2px;margin:-4px -2px -4px -2px}`}}]}}),n.WF);t()}catch(e){t(e)}}))},52409:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{Y:()=>d});i(21950),i(55888),i(15445),i(24483),i(13478),i(46355),i(14612),i(53691),i(48455),i(8339);var n=i(70274),s=i(73765),o=e([n]);n=(o.then?(await o)():o)[0];const r=new Set(["error","state-label"]),l={"entity-filter":()=>i.e(29600).then(i.bind(i,29600))},d=e=>(0,s.Ue)("badge",e,r,l,void 0,"state-label");a()}catch(e){a(e)}}))},50308:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{MJ:()=>v,dY:()=>f,te:()=>y});i(21950),i(55888),i(15445),i(24483),i(13478),i(46355),i(14612),i(53691),i(48455),i(8339),i(78696);var n=i(97644),s=i(79695),o=(i(80816),i(55211)),r=i(83158),l=i(54190),d=(i(86946),i(4396)),c=i(92161),h=i(45794),u=i(34552),m=i(73765),g=e([n,s,o,r,l,d,c,h,u]);[n,s,o,r,l,d,c,h,u]=g.then?(await g)():g;const b=new Set(["entity","entities","button","entity-button","glance","grid","section","light","sensor","thermostat","weather-forecast","tile"]),p={"alarm-panel":()=>Promise.all([i.e(27311),i.e(780)]).then(i.bind(i,780)),area:()=>Promise.all([i.e(95339),i.e(20758)]).then(i.bind(i,86181)),calendar:()=>Promise.resolve().then(i.bind(i,97644)),conditional:()=>i.e(29886).then(i.bind(i,29886)),"empty-state":()=>i.e(9417).then(i.bind(i,9417)),"energy-compare":()=>Promise.all([i.e(91048),i.e(71460),i.e(31337)]).then(i.bind(i,31337)),"energy-carbon-consumed-gauge":()=>Promise.all([i.e(91048),i.e(71460),i.e(84003),i.e(49840)]).then(i.bind(i,49840)),"energy-date-selection":()=>Promise.all([i.e(27311),i.e(49774),i.e(91048),i.e(71460),i.e(38815),i.e(77023),i.e(20534),i.e(37917)]).then(i.bind(i,23929)),"energy-devices-graph":()=>Promise.all([i.e(91048),i.e(71460),i.e(55285),i.e(59122)]).then(i.bind(i,59122)),"energy-devices-detail-graph":()=>Promise.all([i.e(91048),i.e(71460),i.e(77023),i.e(29293)]).then(i.bind(i,31770)),"energy-distribution":()=>Promise.all([i.e(91048),i.e(71460),i.e(48498)]).then(i.bind(i,48498)),"energy-gas-graph":()=>Promise.all([i.e(91048),i.e(71460),i.e(37208),i.e(77023),i.e(99368)]).then(i.bind(i,99368)),"energy-water-graph":()=>Promise.all([i.e(91048),i.e(71460),i.e(14827),i.e(77023),i.e(4902)]).then(i.bind(i,4902)),"energy-grid-neutrality-gauge":()=>Promise.all([i.e(91048),i.e(71460),i.e(6384),i.e(36112)]).then(i.bind(i,36112)),"energy-solar-consumed-gauge":()=>Promise.all([i.e(91048),i.e(71460),i.e(39241),i.e(89924)]).then(i.bind(i,89924)),"energy-self-sufficiency-gauge":()=>Promise.all([i.e(91048),i.e(71460),i.e(61622),i.e(22387)]).then(i.bind(i,22387)),"energy-solar-graph":()=>Promise.all([i.e(91048),i.e(71460),i.e(92446),i.e(77023),i.e(59716)]).then(i.bind(i,59716)),"energy-sources-table":()=>Promise.all([i.e(91048),i.e(71460),i.e(98359),i.e(45441)]).then(i.bind(i,45441)),"energy-usage-graph":()=>Promise.all([i.e(91048),i.e(71460),i.e(70065),i.e(77023),i.e(26222)]).then(i.bind(i,26222)),"entity-filter":()=>i.e(66802).then(i.bind(i,66802)),error:()=>Promise.all([i.e(51859),i.e(47420),i.e(86796)]).then(i.bind(i,86796)),gauge:()=>i.e(15579).then(i.bind(i,15579)),"history-graph":()=>Promise.all([i.e(55285),i.e(89974),i.e(6988)]).then(i.bind(i,24349)),"horizontal-stack":()=>i.e(79433).then(i.bind(i,79433)),humidifier:()=>i.e(5182).then(i.bind(i,5182)),iframe:()=>i.e(24086).then(i.bind(i,24086)),logbook:()=>Promise.all([i.e(21589),i.e(48649)]).then(i.bind(i,57567)),map:()=>Promise.all([i.e(76474),i.e(93092)]).then(i.bind(i,24900)),markdown:()=>i.e(76757).then(i.bind(i,76757)),"media-control":()=>Promise.all([i.e(51859),i.e(57513),i.e(47586)]).then(i.bind(i,47586)),"picture-elements":()=>Promise.all([i.e(95339),i.e(51621),i.e(67613)]).then(i.bind(i,80034)),"picture-entity":()=>Promise.all([i.e(95339),i.e(11151)]).then(i.bind(i,65896)),"picture-glance":()=>Promise.all([i.e(95339),i.e(46986)]).then(i.bind(i,70101)),picture:()=>i.e(65496).then(i.bind(i,65496)),"plant-status":()=>i.e(62512).then(i.bind(i,62512)),"recovery-mode":()=>Promise.all([i.e(50988),i.e(42311),i.e(31113)]).then(i.bind(i,31113)),"todo-list":()=>Promise.all([i.e(27311),i.e(50988),i.e(49774),i.e(87891)]).then(i.bind(i,87891)),"shopping-list":()=>Promise.all([i.e(27311),i.e(50988),i.e(49774),i.e(87891),i.e(94415)]).then(i.bind(i,94415)),starting:()=>i.e(73730).then(i.bind(i,73730)),"statistics-graph":()=>i.e(24212).then(i.bind(i,24212)),statistic:()=>i.e(58284).then(i.bind(i,58284)),"vertical-stack":()=>i.e(32523).then(i.bind(i,32523))},v=e=>(0,m.Vd)("card",e,b,p,void 0,void 0),y=e=>(0,m.Ue)("card",e,b,p,void 0,void 0),f=e=>(0,m.gh)(e,"card",b,p);a()}catch(e){a(e)}}))},73765:(e,t,i)=>{i.d(t,{Ue:()=>d,Vd:()=>c,gh:()=>h,x_:()=>s});i(27934),i(53501),i(21950),i(55888),i(8339);var a=i(77664),n=i(32990);const s=(e,t)=>({type:"error",error:e,origConfig:t}),o=(e,t)=>{const i=document.createElement(e);return i.setConfig(t),i},r=(e,t)=>(e=>{const t=document.createElement("hui-error-card");return customElements.get("hui-error-card")?t.setConfig(e):(Promise.all([i.e(51859),i.e(47420),i.e(86796)]).then(i.bind(i,86796)),customElements.whenDefined("hui-error-card").then((()=>{customElements.upgrade(t),t.setConfig(e)}))),t})(s(e,t)),l=e=>(0,n.c8)(e)?(0,n.Iu)(e):void 0,d=(e,t,i,a,n,s)=>{try{return c(e,t,i,a,n,s)}catch(i){return console.error(e,t.type,i),r(i.message,t)}},c=(e,t,i,n,s,d)=>{if(!t||"object"!=typeof t)throw new Error("Config is not an object");if(!(t.type||d||s&&"entity"in t))throw new Error("No card type configured");const c=t.type?l(t.type):void 0;if(c)return((e,t)=>{if(customElements.get(e))return o(e,t);const i=r(`Custom element doesn't exist: ${e}.`,t);if(!e.includes("-"))return i;i.style.display="None";const n=window.setTimeout((()=>{i.style.display=""}),2e3);return customElements.whenDefined(e).then((()=>{clearTimeout(n),(0,a.r)(i,"ll-rebuild")})),i})(c,t);let h;if(s&&!t.type&&t.entity){h=`${s[t.entity.split(".",1)[0]]||s._domain_not_found}-entity`}else h=t.type||d;if(void 0===h)throw new Error("No type specified");const u=`hui-${h}-${e}`;if(n&&h in n)return n[h](),((e,t)=>{if(customElements.get(e))return o(e,t);const i=document.createElement(e);return customElements.whenDefined(e).then((()=>{try{customElements.upgrade(i),(0,a.r)(i,"ll-upgrade"),i.setConfig(t)}catch(e){(0,a.r)(i,"ll-rebuild")}})),i})(u,t);if(i&&i.has(h))return o(u,t);throw new Error(`Unknown type encountered: ${h}`)},h=async(e,t,i,a)=>{const n=l(e);if(n){const e=customElements.get(n);if(e)return e;if(!n.includes("-"))throw new Error(`Custom element not found: ${n}`);return new Promise(((e,t)=>{setTimeout((()=>t(new Error(`Custom element not found: ${n}`))),2e3),customElements.whenDefined(n).then((()=>e(customElements.get(n))))}))}const s=`hui-${e}-${t}`,o=customElements.get(s);if(i&&i.has(e))return o;if(a&&e in a)return o||a[e]().then((()=>customElements.get(s)));throw new Error(`Unknown type: ${e}`)}},69061:(e,t,i)=>{i.d(t,{l:()=>o,x:()=>s});i(21950),i(55888),i(8339);var a=i(73765);const n={picture:()=>i.e(14095).then(i.bind(i,14095)),buttons:()=>Promise.all([i.e(66175),i.e(82716)]).then(i.bind(i,82716)),graph:()=>i.e(22677).then(i.bind(i,22677))},s=e=>(0,a.Ue)("header-footer",e,void 0,n,void 0,void 0),o=e=>(0,a.gh)(e,"header-footer",void 0,n)},52398:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{T:()=>v,t:()=>y});i(21950),i(55888),i(15445),i(24483),i(13478),i(46355),i(14612),i(53691),i(48455),i(8339);var n=i(95354),s=i(53600),o=i(56822),r=i(61247),l=i(35308),d=i(43152),c=i(35486),h=i(9340),u=(i(69192),i(81282),i(73765)),m=e([n,s,o,r,l,d,c,h]);[n,s,o,r,l,d,c,h]=m.then?(await m)():m;const g=new Set(["media-player-entity","scene-entity","script-entity","sensor-entity","simple-entity","toggle-entity","button","call-service"]),b={"button-entity":()=>i.e(49974).then(i.bind(i,49974)),"climate-entity":()=>i.e(3135).then(i.bind(i,3135)),"cover-entity":()=>i.e(70111).then(i.bind(i,70111)),"date-entity":()=>Promise.all([i.e(27311),i.e(24058)]).then(i.bind(i,24058)),"datetime-entity":()=>Promise.all([i.e(27311),i.e(50988),i.e(32503),i.e(91048),i.e(90731),i.e(73112)]).then(i.bind(i,1481)),"event-entity":()=>Promise.resolve().then(i.bind(i,95354)),"group-entity":()=>i.e(19915).then(i.bind(i,19915)),"input-button-entity":()=>i.e(55475).then(i.bind(i,55475)),"humidifier-entity":()=>i.e(95910).then(i.bind(i,95910)),"input-datetime-entity":()=>Promise.all([i.e(27311),i.e(50988),i.e(32503),i.e(58876)]).then(i.bind(i,58876)),"input-number-entity":()=>Promise.all([i.e(27311),i.e(9516)]).then(i.bind(i,9516)),"input-select-entity":()=>Promise.all([i.e(50988),i.e(32503),i.e(35255)]).then(i.bind(i,35255)),"input-text-entity":()=>Promise.all([i.e(27311),i.e(16670)]).then(i.bind(i,16670)),"lock-entity":()=>i.e(899).then(i.bind(i,899)),"number-entity":()=>Promise.all([i.e(27311),i.e(51337)]).then(i.bind(i,51337)),"select-entity":()=>Promise.all([i.e(50988),i.e(32503),i.e(14062)]).then(i.bind(i,14062)),"text-entity":()=>Promise.all([i.e(27311),i.e(33135)]).then(i.bind(i,33135)),"time-entity":()=>Promise.all([i.e(27311),i.e(50988),i.e(32503),i.e(29511),i.e(55228)]).then(i.bind(i,32989)),"timer-entity":()=>i.e(1109).then(i.bind(i,1109)),"update-entity":()=>i.e(42829).then(i.bind(i,42829)),"valve-entity":()=>i.e(17168).then(i.bind(i,17168)),conditional:()=>i.e(12940).then(i.bind(i,12940)),"weather-entity":()=>i.e(39774).then(i.bind(i,39774)),divider:()=>i.e(16401).then(i.bind(i,16401)),section:()=>i.e(33643).then(i.bind(i,33643)),weblink:()=>i.e(87374).then(i.bind(i,87374)),cast:()=>i.e(45459).then(i.bind(i,45459)),buttons:()=>Promise.all([i.e(66175),i.e(81005)]).then(i.bind(i,81005)),attribute:()=>Promise.resolve().then(i.bind(i,9340)),text:()=>i.e(80907).then(i.bind(i,80907))},p={_domain_not_found:"simple",alert:"toggle",automation:"toggle",button:"button",climate:"climate",cover:"cover",date:"date",datetime:"datetime",event:"event",fan:"toggle",group:"group",humidifier:"humidifier",input_boolean:"toggle",input_button:"input-button",input_datetime:"input-datetime",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",number:"number",remote:"toggle",scene:"scene",script:"script",select:"select",sensor:"sensor",siren:"toggle",switch:"toggle",text:"text",time:"time",timer:"timer",update:"update",vacuum:"toggle",valve:"valve",water_heater:"climate",weather:"weather"},v=e=>(0,u.Ue)("row",e,g,b,p,void 0),y=e=>(0,u.gh)(e,"row",g,b);a()}catch(e){a(e)}}))},37487:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{_:()=>d});i(21950),i(55888),i(15445),i(24483),i(13478),i(46355),i(14612),i(53691),i(48455),i(8339);var n=i(75115),s=i(73765),o=e([n]);n=(o.then?(await o)():o)[0];const r=new Set(["masonry"]),l={panel:()=>i.e(28464).then(i.bind(i,28464)),sidebar:()=>i.e(67302).then(i.bind(i,67302)),sections:()=>i.e(74003).then(i.bind(i,74003))},d=e=>(0,s.Ue)("view",e,r,l);a()}catch(e){a(e)}}))},74506:(e,t,i)=>{i.d(t,{I:()=>o});var a=i(62659),n=(i(21950),i(8339),i(40924)),s=i(18791);i(51227),i(1683);const o=e=>({type:"error",error:e});(0,a.A)([(0,s.EM)("hui-error-section")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"isStrategy",value:()=>!1},{kind:"field",decorators:[(0,s.wk)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){this._config=e}},{kind:"method",key:"render",value:function(){return this._config?n.qy` <h1>Error</h1> <p>${this._config.error}</p> `:n.s6}}]}}),n.WF)},83882:(e,t,i)=>{i.d(t,{LQ:()=>o,NI:()=>r,YG:()=>n,Zy:()=>a,oH:()=>s});const a="masonry",n="panel",s="sidebar",o="sections",r=[n,s]},75115:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(62659),n=i(76504),s=i(80792),o=(i(21950),i(71936),i(19954),i(55888),i(66274),i(84531),i(91078),i(8339),i(40924)),r=i(18791),l=i(77664),d=i(34800),c=i(13091),h=(i(1683),i(40068)),u=e([c]);c=(u.then?(await u)():u)[0];const m="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",g=(e,t)=>{let i=0;for(let t=0;t<e.length;t++){if(e[t]<5){i=t;break}e[t]<e[i]&&(i=t)}return e[i]+=t,i};let b=(0,a.A)(null,(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Number})],key:"index",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"isStrategy",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"cards",value:()=>[]},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"badges",value:()=>[]},{kind:"field",decorators:[(0,r.wk)()],key:"_columns",value:void 0},{kind:"field",key:"_createColumnsIteration",value:()=>0},{kind:"field",key:"_mqls",value:void 0},{kind:"field",key:"_mqlListenerRef",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,n.A)((0,s.A)(a.prototype),"connectedCallback",this).call(this),this._initMqls()}},{kind:"method",key:"disconnectedCallback",value:function(){var e;(0,n.A)((0,s.A)(a.prototype),"disconnectedCallback",this).call(this),null===(e=this._mqls)||void 0===e||e.forEach((e=>{e.removeListener(this._mqlListenerRef)})),this._mqlListenerRef=void 0,this._mqls=void 0}},{kind:"method",key:"setConfig",value:function(e){}},{kind:"method",key:"render",value:function(){var e,t;return o.qy` ${this.badges.length>0?o.qy`<div class="badges">${this.badges}</div>`:""} <div id="columns" class="${null!==(e=this.lovelace)&&void 0!==e&&e.editMode?"edit-mode":""}"></div> ${null!==(t=this.lovelace)&&void 0!==t&&t.editMode?o.qy` <ha-fab .label="${this.hass.localize("ui.panel.lovelace.editor.edit_card.add")}" extended @click="${this._addCard}"> <ha-svg-icon slot="icon" .path="${m}"></ha-svg-icon> </ha-fab> `:""} `}},{kind:"method",key:"_initMqls",value:function(){this._mqls=[300,600,900,1200].map((e=>{const t=window.matchMedia(`(min-width: ${e}px)`);return this._mqlListenerRef||(this._mqlListenerRef=this._updateColumns.bind(this)),t.addListener(this._mqlListenerRef),t}))}},{kind:"get",key:"mqls",value:function(){return this._mqls||this._initMqls(),this._mqls}},{kind:"method",key:"willUpdate",value:function(e){var t;if((0,n.A)((0,s.A)(a.prototype),"willUpdate",this).call(this,e),null!==(t=this.lovelace)&&void 0!==t&&t.editMode&&i.e(82635).then(i.bind(i,82635)),e.has("hass")){const t=e.get("hass");if(this.hass.dockedSidebar!==(null==t?void 0:t.dockedSidebar))return void this._updateColumns()}if(e.has("narrow"))return void this._updateColumns();const o=e.get("lovelace");(e.has("cards")||e.has("lovelace")&&o&&(o.config!==this.lovelace.config||o.editMode!==this.lovelace.editMode))&&this._createColumns()}},{kind:"method",key:"_addCard",value:function(){(0,l.r)(this,"ll-create-card")}},{kind:"method",key:"_createRootElement",value:function(e){const t=this.shadowRoot.getElementById("columns");for(;t.lastChild;)t.removeChild(t.lastChild);e.forEach((e=>t.appendChild(e)))}},{kind:"method",key:"_createColumns",value:async function(){if(!this._columns)return;this._createColumnsIteration++;const e=this._createColumnsIteration,t=[],i=[];for(let e=0;e<Math.min(this._columns,this.cards.length);e++){const e=document.createElement("div");e.classList.add("column"),t.push(0),i.push(e)}let a,n;this.hasUpdated?this._createRootElement(i):this.updateComplete.then((()=>{this._createRootElement(i)}));for(const[s,o]of this.cards.entries()){let r;void 0===a&&(a=(0,d.E)().then((()=>{a=void 0,n=void 0}))),void 0===n?n=new Date:(new Date).getTime()-n.getTime()>16&&(r=a);const l=(0,h.Z)(o),[c]=await Promise.all([l,r]);if(e!==this._createColumnsIteration)return;this._addCardToColumn(i[g(t,c)],s,this.lovelace.editMode)}i.forEach((e=>{e.lastChild||e.parentElement.removeChild(e)}))}},{kind:"method",key:"_addCardToColumn",value:function(e,t,i){const a=this.cards[t];if(!i||this.isStrategy)a.preview=!1,e.appendChild(a);else{const i=document.createElement("hui-card-options");i.hass=this.hass,i.lovelace=this.lovelace,i.path=[this.index,t],a.preview=!0,i.appendChild(a),e.appendChild(i)}}},{kind:"method",key:"_updateColumns",value:function(){const e=this.mqls.reduce(((e,t)=>e+Number(t.matches)),0),t=Math.max(1,e-Number(!this.narrow&&"docked"===this.hass.dockedSidebar));t!==this._columns&&(this._columns=t,this._createColumns())}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host{display:block;padding-top:4px}.badges{margin:8px 16px;font-size:85%;text-align:center}#columns{display:flex;flex-direction:row;justify-content:center;margin-left:4px;margin-right:4px}#columns.edit-mode{margin-bottom:72px}.column{flex:1 0 0;max-width:500px;min-width:0}.column:has(> *){flex-grow:1}.column:not(:has(> :not([hidden]))){flex-grow:0}.column>:not([hidden]){display:block;margin:var(--masonry-view-card-margin,4px 4px 8px)}ha-fab{position:fixed;right:calc(16px + env(safe-area-inset-right));bottom:calc(16px + env(safe-area-inset-bottom));inset-inline-end:calc(16px + env(safe-area-inset-right));inset-inline-start:initial;z-index:1}@media (max-width:500px){.column>*{margin-left:0;margin-right:0}}@media (max-width:599px){.column{max-width:600px}}`}}]}}),o.WF);customElements.define("hui-masonry-view",b),t()}catch(e){t(e)}}))},73097:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(62659),n=i(76504),s=i(80792),o=(i(21950),i(55888),i(66274),i(84531),i(98168),i(8339),i(40924)),r=i(18791),l=i(60005),d=i(13091),c=(i(1683),i(47387)),h=i(92082),u=i(77553),m=i(67990),g=i(52409),b=i(37487),p=i(43055),v=i(62679),y=i(44497),f=i(74528),_=i(67549),k=i(74506),w=i(87501),x=i(71964),E=i(83882),C=e([d,u,g,b,w]);[d,u,g,b,w]=C.then?(await C)():C;(0,a.A)([(0,r.EM)("hui-view")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Number})],key:"index",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_cards",value:()=>[]},{kind:"field",decorators:[(0,r.wk)()],key:"_badges",value:()=>[]},{kind:"field",decorators:[(0,r.wk)()],key:"_sections",value:()=>[]},{kind:"field",key:"_layoutElementType",value:void 0},{kind:"field",key:"_layoutElement",value:void 0},{kind:"field",key:"_viewConfigTheme",value:void 0},{kind:"method",key:"_createCardElement",value:function(e){const t=document.createElement("hui-card");return t.hass=this.hass,t.preview=this.lovelace.editMode,t.config=e,t.addEventListener("card-updated",(e=>{e.stopPropagation(),this._cards=[...this._cards]})),t.load(),t}},{kind:"method",key:"createBadgeElement",value:function(e){const t=(0,g.Y)(e);try{t.hass=this.hass}catch(e){return(0,h.KS)((0,h.G9)(e.message))}return t.addEventListener("ll-badge-rebuild",(()=>{this._rebuildBadge(t,e)}),{once:!0}),t}},{kind:"method",key:"createSectionElement",value:function(e){const t=document.createElement("hui-section");return t.hass=this.hass,t.lovelace=this.lovelace,t.config=e,t.viewIndex=this.index,t.preview=this.lovelace.editMode,t.addEventListener("ll-rebuild",(i=>{this.lovelace.editMode||(i.stopPropagation(),this._rebuildSection(t,e))}),{once:!0}),t}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"connectedCallback",value:function(){(0,n.A)((0,s.A)(i.prototype),"connectedCallback",this).call(this),this._applyTheme()}},{kind:"method",key:"willUpdate",value:function(e){(0,n.A)((0,s.A)(i.prototype),"willUpdate",this).call(this,e);const t=e.get("lovelace");(e.has("index")||e.has("lovelace")&&(!t||this.lovelace.config.views[this.index]!==t.config.views[this.index]))&&this._initializeConfig()}},{kind:"method",key:"update",value:function(e){if((0,n.A)((0,s.A)(i.prototype),"update",this).call(this,e),this._layoutElement){if(e.has("hass")){this._badges.forEach((e=>{try{e.hass=this.hass}catch(t){this._rebuildBadge(e,(0,h.G9)(t.message))}})),this._cards.forEach((e=>{e.hass=this.hass})),this._sections.forEach((e=>{try{e.hass=this.hass}catch(t){this._rebuildSection(e,(0,k.I)(t.message))}})),this._layoutElement.hass=this.hass;const t=e.get("hass");t&&this.hass.themes===t.themes&&this.hass.selectedTheme===t.selectedTheme||this._applyTheme()}e.has("narrow")&&(this._layoutElement.narrow=this.narrow),e.has("lovelace")&&(this._layoutElement.lovelace=this.lovelace,this._sections.forEach((e=>{try{e.hass=this.hass,e.lovelace=this.lovelace,e.preview=this.lovelace.editMode}catch(t){this._rebuildSection(e,(0,k.I)(t.message))}})),this._cards.forEach((e=>{e.preview=this.lovelace.editMode}))),e.has("_cards")&&(this._layoutElement.cards=this._cards),e.has("_badges")&&(this._layoutElement.badges=this._badges)}}},{kind:"method",key:"_applyTheme",value:function(){if((0,l.Q)(this,this.hass.themes,this._viewConfigTheme),this._viewConfigTheme){const t=getComputedStyle(this);let i=t.getPropertyValue("--lovelace-background");var e;if(i||(i=t.getPropertyValue("--primary-background-color")),i)null===(e=this.parentElement)||void 0===e||e.style.setProperty("--lovelace-background",i)}}},{kind:"method",key:"_initializeConfig",value:async function(){let e=this.lovelace.config.views[this.index],t=!1;(0,c.R)(e)&&(t=!0,e=await(0,x.Xd)(e.strategy,this.hass)),e={...e,type:e.panel?E.YG:e.type||E.Zy};let i=!1;if(this._layoutElement&&this._layoutElementType===e.type||(i=!0,this._createLayoutElement(e)),this._createBadges(e),this._createCards(e),this._createSections(e),this._layoutElement.isStrategy=t,this._layoutElement.hass=this.hass,this._layoutElement.narrow=this.narrow,this._layoutElement.lovelace=this.lovelace,this._layoutElement.index=this.index,this._layoutElement.cards=this._cards,this._layoutElement.badges=this._badges,this._layoutElement.sections=this._sections,(0,l.Q)(this,this.hass.themes,e.theme),this._viewConfigTheme=e.theme,i){for(;this.lastChild;)this.removeChild(this.lastChild);this.appendChild(this._layoutElement)}}},{kind:"method",key:"_createLayoutElement",value:function(e){this._layoutElement=(0,b._)(e),this._layoutElementType=e.type,this._layoutElement.addEventListener("ll-create-card",(e=>{var t;(0,p.u)(this,{lovelaceConfig:this.lovelace.config,saveConfig:this.lovelace.saveConfig,path:[this.index],suggestedCards:null===(t=e.detail)||void 0===t?void 0:t.suggested})})),this._layoutElement.addEventListener("ll-edit-card",(e=>{const{cardIndex:t}=(0,_.gO)(e.detail.path);(0,v.O)(this,{lovelaceConfig:this.lovelace.config,saveConfig:this.lovelace.saveConfig,path:[this.index],cardIndex:t})})),this._layoutElement.addEventListener("ll-delete-card",(e=>{if(e.detail.confirm)(0,f.a)(this,this.hass,this.lovelace,e.detail.path);else{const t=(0,y.GO)(this.lovelace.config,e.detail.path);this.lovelace.saveConfig(t)}}))}},{kind:"method",key:"_createBadges",value:function(e){if(!e||!e.badges||!Array.isArray(e.badges))return void(this._badges=[]);const t=(0,m.L)(e.badges);this._badges=t.map((e=>{const t=(0,g.Y)(e);try{t.hass=this.hass}catch(e){return(0,h.KS)((0,h.G9)(e.message))}return t}))}},{kind:"method",key:"_createCards",value:function(e){e&&e.cards&&Array.isArray(e.cards)?this._cards=e.cards.map((e=>this._createCardElement(e))):this._cards=[]}},{kind:"method",key:"_createSections",value:function(e){e&&e.sections&&Array.isArray(e.sections)?this._sections=e.sections.map(((e,t)=>{const i=this.createSectionElement(e);return i.index=t,i})):this._sections=[]}},{kind:"method",key:"_rebuildBadge",value:function(e,t){let i=this.createBadgeElement(t);try{i.hass=this.hass}catch(e){i=(0,h.KS)((0,h.G9)(e.message))}e.parentElement&&e.parentElement.replaceChild(i,e),this._badges=this._badges.map((t=>t===e?i:t))}},{kind:"method",key:"_rebuildSection",value:function(e,t){const i=this.createSectionElement(t);i.index=e.index,e.parentElement&&e.parentElement.replaceChild(i,e),this._sections=this._sections.map((t=>t===e?i:t))}}]}}),o.mN);t()}catch(e){t(e)}}))}};
//# sourceMappingURL=69983.b6azq9scLeM.js.map